<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>予約フォーム</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", async () => {
    try {
      await liff.init({ liffId: "2007937055-Za6zOL4e" });
      if (!liff.isLoggedIn()) {
        liff.login();
      }
    } catch (err) {
      console.error("LIFF初期化エラー:", err);
    }
  });
</script>

</head>
  
<body>
  <form id="reservationForm">
    <h2>ご予約フォーム</h2>
    <div class="form-row">
      <label for="name">お名前<span class="required"><br></span></label>
      <input type="text" id="name" name="name" required>
    </div>

    <div class="form-row">
      <label for="phone">電話番号<span class="required"><br></span></label>
      <input type="tel" id="phone" name="phone"  required>
    </div>

    <div class="form-row">
      <label for="store">受取店舗<span class="required"><br></span></label>
      <select id="store" name="store" required>
        <option value="">選択してください</option>
        <option value="ポケット店">ポケット店</option>
        <option value="アップティ店">アップティ店</option>
        <option value="キララ店">キララ店</option>
      </select>
    </div>

    <div class="form-row">
      <label for="pickupDate">受取日<span class="required"><br>*本日より3日後から受付出来ます</span></label>
      <input type="date" id="pickupDate" name="pickupDate" required>
    </div>

    <div class="form-row">
      <label for="pickupTime">受取時間<span class="required"><br>*11時～18時まで30分刻みです</span></label>
      <select id="pickupTime" name="pickupTime" required></select>
    </div>
 <a href="https://drive.google.com/file/d/1ozipMuv4eflwsTPUNdYStDJpJDweeLva/view?usp=drive_link" target="_blank" rel="noopener noreferrer">商品パンフレットはこちら</a>
  <br><label>商品選択<span class="required"><br>*複数注文される場合は、下の追加ボタンを押して下さい</span></label>  <div class="form-row">
            <div id="products"></div>
    </div>

    <div class="form-row">
      <label></label>
      <div class="field">
        <button type="button" id="addProductBtn">＋ 商品を追加</button>
      </div>
    </div>

    <div class="form-row">
      <label>合計金額</label>
      <div><span id="total">0</span> 円＋税</div>
    </div>
    <label>お支払いは受取店舗のレジで、現金またはクレジット決済となります</label>
    <div class="form-row">
      <label for="memo">備考</label>
      <textarea id="memo" name="memo" placeholder="ご要望などあれば記入して下さい"></textarea>
    </div>

<!-- 送信中モーダル -->
<div id="loadingModal" class="modal">
  <div class="modal-content">
    <div class="line-spinner"></div>
    <p>送信中です...</p>
  </div>
</div>
  
<label>※上記内容でよろしければ、下の予約するボタンを押して下さい※</label>
    
 <div class="form-submit">
    <button type="submit">予約する</button>
  </div>
</form>
  <script src="script.js"></script>
</body>
</html>
